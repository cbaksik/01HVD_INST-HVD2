<div id="via-page-header" class="banner">
	<div layout="row" layout-align="start center" class="banner layout-align-start-center layout-row">
		<div class="logo hide-xs">
			<h1>HOLLIS</h1>
		</div>
		<div class="metadataHeader">
			FULL IMAGE DETAIL
		</div>
	</div>
</div>

<!-- Link to go to parent record -- needed because Curiosity only has components and links here directly, so user needs a way to get to parent record -->
		<div class="parentImageLinkWrapper hvd-img-open-in-new" ng-if="vm.componentData">
			<a href="http://id.lib.harvard.edu/via/{{vm.recordid}}/catalog" class="parentImageLink">Go to main
				record</a>
		</div>

<div layout="row" class="whiteBg hvdImgComponentView" ng-if="vm.index !== -1">

	<div flex="{{vm.flexsize}}" class="full-view-inner-container whiteBg">

		

		<!-- begin scroll buttons to navigate components -->
		<section layout="row" layout-align="center center" class="imageNav container-nav-controls" layout-wrap ng-if="vm.total > 1">
			<md-button class="nav-control md-button" (click)="vm.prevPhoto()" tabindex="0"
				title="Previous">
				<md-icon md-svg-icon="primo-ui:chevron-left" aria-label="chevron-left-icon"></md-icon>
			</md-button>
			<label class="label">
				{{vm.index + 1}} of {{vm.total}} images
			</label>
			<md-button class="nav-control md-button" (click)="vm.nextPhoto()" tabindex="0"
				title="Next">
				<md-icon md-svg-icon="primo-ui:chevron-right" aria-label="chevron-right-icon"></md-icon>
			</md-button>
		</section>
		<!-- end scroll buttons to navigate components -->

		<!-- CB added this line 20200526 so users have another option during restricted image issue -->
		<div class="hvd-img-open-in-new">
			<a target="_blank" href="{{vm.filenameURL}}?buttons=Y">Open image in new tab</a>
		</div>

		<!-- main image embedded -->
		<div layout="column" layout-align="center center" class="hvd-via-full-image">
			<iframe id="iframe" name="{{vm.iframeAttributes.name}}" src="{{vm.iframeAttributes.src}}"
				height="{{vm.iframeAttributes.height}}" width="{{vm.iframeAttributes.width}}"
				title="{{vm.iframeAttributes.title}}" frameborder="{{vm.iframeAttributes.frameborder}}"
				marginwidth="{{vm.iframeAttributes.marginwidth}}"
				marginheight="{{vm.iframeAttributes.marginheight}}" scrolling="{{vm.iframeAttributes.scrolling}}"
				allowfullscreen="{{vm.iframeAttributes.allowfullscreen}}">
			</iframe>
		</div>

		<!-- display image  metadata -->
		<div class="hvdImgComponentViewMD">

			<!--PNX main  info -->
			<h3>Main information</h3>

			<div layout="row"  layout-xs="column" class="layout-block-xs layout-xs-column layout-row" ng-repeat="(label, valuesArray) in vm.mainInfoRender">
				<div flex-gt-sm="20" flex-gt-xs="25" flex="" class="flex-gt-xs-25 flex-gt-sm-20 flex">
					<span class="bold-text word-break">{{ label }}</span>
				</div> 
				<div class="item-details-element-container flex" flex>
					<div role="list" class="item-details-element" >
						<div role="listitem" layout="column" class="word-break layout-column" ng-if="valuesArray.length > 1" ng-repeat="value in valuesArray track by $index">
							{{ value }}
						</div>
						<div role="listitem" ng-if="valuesArray.length === 1" layout="column" class="word-break layout-column" >
							<!-- {{ valuesArray[0] }} -->
							<span ng-bind-html="valuesArray[0]"></span>
						</div>
					</div>
				</div>
			</div>


			<hr style="margin: 25px 0px 15px 0px;"/>

			<!--component level info from lds65 -->
			<h3>Image information</h3>

			<div layout="row"  layout-xs="column" class="layout-block-xs layout-xs-column layout-row" ng-repeat="item in vm.orderedComponents">
				<div flex-gt-sm="20" flex-gt-xs="25" flex="" class="flex-gt-xs-25 flex-gt-sm-20 flex">
					<span class="bold-text word-break">{{ item.key }}</span>
				</div> 
				<div class="item-details-element-container flex" flex>
					<div role="list" class="item-details-element" >
						<div role="listitem" layout="column" class="word-break layout-column" ng-if="isArray(item.value)" ng-repeat="val in item.value track by $index">
							{{ val }}
						</div>
						<div role="listitem" ng-if="!isArray(item.value)" layout="column" class="word-break layout-column" >
							{{ item.value }}
						</div>
					</div>
				</div>
			</div>

		</div>

	</div>

</div>


<!-- display error message when the vm.index = -1 -->
<div layout="row" class="whiteBg" ng-if="vm.index === -1">
	<div flex class="full-view-inner-container whiteBg">
		<p class="text-center bigPadding">
			This component does not exist. Please visit the work record at
			<a href="http://id.lib.harvard.edu/images/{{vm.recordid}}/catalog">
				http://id.lib.harvard.edu/images/{{vm.recordid}}/catalog
			</a>.
		</p>
	</div>
</div>