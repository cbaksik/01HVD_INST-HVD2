<!-- prm-alma-viewit-items-after.html -->

<!-- single image -->

<div class="via-alma-viewit" ng-if="vm.singleImageFlag">

	<!-- so users have another option if restricted image doesn't display -->
	<div class="hvd-img-open-in-new">
		<a target="_blank" href="{{vm.iframeAttributes.src}}?buttons=Y">Open image in new tab</a>
	</div>
	
	<!-- <img ng-if="vm.restricted" src="custom/HVD2/img/icon_lock25.png" class="hvdSingleImgLock" alt="Restricted to HarvardKey" aria-label="Restricted to HarvardKey" title="Restricted to HarvardKey"/> -->
	<div layout="column" layout-align="center center" class="hvd-via-full-image">
		<iframe id="iframe" name="{{vm.iframeAttributes.name}}" src="{{vm.iframeAttributes.src}}"
			height="{{vm.iframeAttributes.height}}" width="{{vm.iframeAttributes.width}}"
			title="{{vm.iframeAttributes.title}}" frameborder="{{vm.iframeAttributes.frameborder}}"
			marginwidth="{{vm.iframeAttributes.marginwidth}}"
			marginheight="{{vm.iframeAttributes.marginheight}}" scrolling="{{vm.iframeAttributes.scrolling}}"
			allowfullscreen="{{vm.iframeAttributes.allowfullscreen}}">
		</iframe>
	</div>

</div>


<!-- view all metadata button  -->
<!-- <div ng-if="vm.viewAllComponetMetadataFlag && !vm.item.pnx.display.lds41 && vm.pnxControlSourceIdFlag" class="hvfullsize">
    <div layout="column" layout-align="center center">
     <md-button class="md-raised md-primary btn-margin-bottom" (click)="vm.viewAllComponentMetaData()" tabindex="0">
        VIEW ALL COMPONENT METADATA
     </md-button>
     </div> -->


<!-- multiple images -->
<div class="hvd-via-record-page-grid via-alma-viewit" ng-if="vm.componentJSON.length > 1">

	<md-grid-list md-row-height="230px" md-cols="4">
		<md-grid-tile ng-repeat="item in vm.componentJSON track by $index" ng-click="vm.gotoFullPhoto($event,item,$index)">
			<md-card class="hv-md-card">
				<md-card-content class="imageBox">
					<a title="{{vm.componentJSON[$index].T[0]}}">
						<img ng-src="{{vm.componentJSON[$index].U[0]}}?width=150&height=150" class="md-card-image" alt="{{vm.componentJSON[$index].T[0]}}"/>
						<div class="lockIcon" ng-if="vm.componentJSON[$index].X[0]" tabindex="-1">
							<img src="/discovery/custom/01HVD_INST-HVD2/img/icon_lock25.png" class="md-avatar" alt="Restricted to HarvardKey"/>
						</div>
					</a>
					<div class="imageTitle" title="{{vm.componentJSON[$index].T[0]}}">
						<span>{{vm.componentJSON[$index].T[0]|truncatefilter}}</span>
					</div>
				</md-card-content>
			</md-card>
		</md-grid-tile>
	</md-grid-list>

</div>


<!-- end prm-alma-viewit-items-after.html -->